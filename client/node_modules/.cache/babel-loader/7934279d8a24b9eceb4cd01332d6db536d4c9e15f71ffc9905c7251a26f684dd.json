{"ast":null,"code":"import { useRef, useEffect, createElement } from 'react';\nimport { BrowserQRCodeReader } from '@zxing/browser';\nconst isMediaDevicesSupported = () => {\n  const isMediaDevicesSupported = typeof navigator !== 'undefined' && !!navigator.mediaDevices;\n  if (!isMediaDevicesSupported) {\n    console.warn(`[ReactQrReader]: MediaDevices API has no support for your browser. You can fix this by running \"npm i webrtc-adapter\"`);\n  }\n  return isMediaDevicesSupported;\n};\nconst isValidType = (value, name, type) => {\n  const isValid = typeof value === type;\n  if (!isValid) {\n    console.warn(`[ReactQrReader]: Expected \"${name}\" to be a of type \"${type}\".`);\n  }\n  return isValid;\n};\nconst useQrReader = ({\n  scanDelay: delayBetweenScanAttempts,\n  constraints: video,\n  onResult,\n  videoId\n}) => {\n  const controlsRef = useRef(null);\n  useEffect(() => {\n    const codeReader = new BrowserQRCodeReader(null, {\n      delayBetweenScanAttempts\n    });\n    if (!isMediaDevicesSupported() && isValidType(onResult, 'onResult', 'function')) {\n      const message = 'MediaDevices API has no support for your browser. You can fix this by running \"npm i webrtc-adapter\"';\n      onResult(null, new Error(message), codeReader);\n    }\n    if (isValidType(video, 'constraints', 'object')) {\n      codeReader.decodeFromConstraints({\n        video\n      }, videoId, (result, error) => {\n        if (isValidType(onResult, 'onResult', 'function')) {\n          onResult(result, error, codeReader);\n        }\n      }).then(controls => controlsRef.current = controls).catch(error => {\n        if (isValidType(onResult, 'onResult', 'function')) {\n          onResult(null, error, codeReader);\n        }\n      });\n    }\n    return () => {\n      var _controlsRef$current;\n      (_controlsRef$current = controlsRef.current) === null || _controlsRef$current === void 0 ? void 0 : _controlsRef$current.stop();\n    };\n  }, []);\n};\nconst styles = {\n  container: {\n    width: '100%',\n    paddingTop: '100%',\n    overflow: 'hidden',\n    position: 'relative'\n  },\n  video: {\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    display: 'block',\n    overflow: 'hidden',\n    position: 'absolute',\n    transform: undefined\n  }\n};\nconst QrReader = ({\n  videoContainerStyle,\n  containerStyle,\n  videoStyle,\n  constraints,\n  ViewFinder,\n  scanDelay,\n  className,\n  onResult,\n  videoId\n}) => {\n  useQrReader({\n    constraints,\n    scanDelay,\n    onResult,\n    videoId\n  });\n  return /*#__PURE__*/createElement(\"section\", {\n    className: className,\n    style: containerStyle\n  }, /*#__PURE__*/createElement(\"div\", {\n    style: {\n      ...styles.container,\n      ...videoContainerStyle\n    }\n  }, !!ViewFinder && /*#__PURE__*/createElement(ViewFinder, null), /*#__PURE__*/createElement(\"video\", {\n    muted: true,\n    id: videoId,\n    style: {\n      ...styles.video,\n      ...videoStyle,\n      transform: (constraints === null || constraints === void 0 ? void 0 : constraints.facingMode) === 'user' && 'scaleX(-1)'\n    }\n  })));\n};\nQrReader.displayName = 'QrReader';\nQrReader.defaultProps = {\n  constraints: {\n    facingMode: 'user'\n  },\n  videoId: 'video',\n  scanDelay: 500\n};\nexport { QrReader, useQrReader };","map":{"version":3,"names":["isMediaDevicesSupported","navigator","mediaDevices","console","warn","isValidType","value","name","type","isValid","useQrReader","scanDelay","delayBetweenScanAttempts","constraints","video","onResult","videoId","controlsRef","useRef","useEffect","codeReader","BrowserQRCodeReader","message","Error","decodeFromConstraints","result","error","then","controls","current","catch","_controlsRef$current","stop","styles","container","width","paddingTop","overflow","position","top","left","height","display","transform","undefined","QrReader","videoContainerStyle","containerStyle","videoStyle","ViewFinder","className","createElement","style","muted","id","facingMode","displayName","defaultProps"],"sources":["E:\\Ticket booking\\client\\node_modules\\@blackbox-vision\\react-qr-reader\\dist-src\\QrReader\\utils.js","E:\\Ticket booking\\client\\node_modules\\@blackbox-vision\\react-qr-reader\\dist-src\\QrReader\\hooks.js","E:\\Ticket booking\\client\\node_modules\\@blackbox-vision\\react-qr-reader\\dist-src\\QrReader\\styles.js","E:\\Ticket booking\\client\\node_modules\\@blackbox-vision\\react-qr-reader\\dist-src\\QrReader\\index.js"],"sourcesContent":["export const isMediaDevicesSupported = () => {\n  const isMediaDevicesSupported = typeof navigator !== 'undefined' && !!navigator.mediaDevices;\n\n  if (!isMediaDevicesSupported) {\n    console.warn(`[ReactQrReader]: MediaDevices API has no support for your browser. You can fix this by running \"npm i webrtc-adapter\"`);\n  }\n\n  return isMediaDevicesSupported;\n};\nexport const isValidType = (value, name, type) => {\n  const isValid = typeof value === type;\n\n  if (!isValid) {\n    console.warn(`[ReactQrReader]: Expected \"${name}\" to be a of type \"${type}\".`);\n  }\n\n  return isValid;\n};","import { useEffect, useRef } from 'react';\nimport { BrowserQRCodeReader } from '@zxing/browser';\nimport { isMediaDevicesSupported, isValidType } from \"./utils.js\"; // TODO: add support for debug logs\n\nexport const useQrReader = ({\n  scanDelay: delayBetweenScanAttempts,\n  constraints: video,\n  onResult,\n  videoId\n}) => {\n  const controlsRef = useRef(null);\n  useEffect(() => {\n    const codeReader = new BrowserQRCodeReader(null, {\n      delayBetweenScanAttempts\n    });\n\n    if (!isMediaDevicesSupported() && isValidType(onResult, 'onResult', 'function')) {\n      const message = 'MediaDevices API has no support for your browser. You can fix this by running \"npm i webrtc-adapter\"';\n      onResult(null, new Error(message), codeReader);\n    }\n\n    if (isValidType(video, 'constraints', 'object')) {\n      codeReader.decodeFromConstraints({\n        video\n      }, videoId, (result, error) => {\n        if (isValidType(onResult, 'onResult', 'function')) {\n          onResult(result, error, codeReader);\n        }\n      }).then(controls => controlsRef.current = controls).catch(error => {\n        if (isValidType(onResult, 'onResult', 'function')) {\n          onResult(null, error, codeReader);\n        }\n      });\n    }\n\n    return () => {\n      var _controlsRef$current;\n\n      (_controlsRef$current = controlsRef.current) === null || _controlsRef$current === void 0 ? void 0 : _controlsRef$current.stop();\n    };\n  }, []);\n};","export const styles = {\n  container: {\n    width: '100%',\n    paddingTop: '100%',\n    overflow: 'hidden',\n    position: 'relative'\n  },\n  video: {\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    display: 'block',\n    overflow: 'hidden',\n    position: 'absolute',\n    transform: undefined\n  }\n};","import * as React from 'react';\nimport { styles } from \"./styles.js\";\nimport { useQrReader } from \"./hooks.js\";\nexport const QrReader = ({\n  videoContainerStyle,\n  containerStyle,\n  videoStyle,\n  constraints,\n  ViewFinder,\n  scanDelay,\n  className,\n  onResult,\n  videoId\n}) => {\n  useQrReader({\n    constraints,\n    scanDelay,\n    onResult,\n    videoId\n  });\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: className,\n    style: containerStyle\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: { ...styles.container,\n      ...videoContainerStyle\n    }\n  }, !!ViewFinder && /*#__PURE__*/React.createElement(ViewFinder, null), /*#__PURE__*/React.createElement(\"video\", {\n    muted: true,\n    id: videoId,\n    style: { ...styles.video,\n      ...videoStyle,\n      transform: (constraints === null || constraints === void 0 ? void 0 : constraints.facingMode) === 'user' && 'scaleX(-1)'\n    }\n  })));\n};\nQrReader.displayName = 'QrReader';\nQrReader.defaultProps = {\n  constraints: {\n    facingMode: 'user'\n  },\n  videoId: 'video',\n  scanDelay: 500\n};"],"mappings":";;AAAO,MAAMA,uBAAuB,GAAGA,CAAA,KAAM;EAC3C,MAAMA,uBAAuB,GAAG,OAAOC,SAAS,KAAK,WAAW,IAAI,CAAC,CAACA,SAAS,CAACC,YAAY;EAE5F,IAAI,CAACF,uBAAuB,EAAE;IAC5BG,OAAO,CAACC,IAAI,CAAC,uHAAuH,CAAC;EACzI;EAEE,OAAOJ,uBAAuB;AAChC,CAAC;AACM,MAAMK,WAAW,GAAGA,CAACC,KAAK,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAChD,MAAMC,OAAO,GAAG,OAAOH,KAAK,KAAKE,IAAI;EAErC,IAAI,CAACC,OAAO,EAAE;IACZN,OAAO,CAACC,IAAI,CAAC,8BAA8BG,IAAI,sBAAsBC,IAAI,IAAI,CAAC;EAClF;EAEE,OAAOC,OAAO;AAChB,CAAC;ACbW,MAACC,WAAW,GAAGA,CAAC;EAC1BC,SAAS,EAAEC,wBAAwB;EACnCC,WAAW,EAAEC,KAAK;EAClBC,QAAQ;EACRC;AACF,CAAC,KAAK;EACJ,MAAMC,WAAW,GAAGC,MAAM,CAAC,IAAI,CAAC;EAChCC,SAAS,CAAC,MAAM;IACd,MAAMC,UAAU,GAAG,IAAIC,mBAAmB,CAAC,IAAI,EAAE;MAC/CT;IACN,CAAK,CAAC;IAEF,IAAI,CAACZ,uBAAuB,EAAE,IAAIK,WAAW,CAACU,QAAQ,EAAE,UAAU,EAAE,UAAU,CAAC,EAAE;MAC/E,MAAMO,OAAO,GAAG,sGAAsG;MACtHP,QAAQ,CAAC,IAAI,EAAE,IAAIQ,KAAK,CAACD,OAAO,CAAC,EAAEF,UAAU,CAAC;IACpD;IAEI,IAAIf,WAAW,CAACS,KAAK,EAAE,aAAa,EAAE,QAAQ,CAAC,EAAE;MAC/CM,UAAU,CAACI,qBAAqB,CAAC;QAC/BV;MACR,CAAO,EAAEE,OAAO,EAAE,CAACS,MAAM,EAAEC,KAAK,KAAK;QAC7B,IAAIrB,WAAW,CAACU,QAAQ,EAAE,UAAU,EAAE,UAAU,CAAC,EAAE;UACjDA,QAAQ,CAACU,MAAM,EAAEC,KAAK,EAAEN,UAAU,CAAC;QAC7C;MACA,CAAO,CAAC,CAACO,IAAI,CAACC,QAAQ,IAAIX,WAAW,CAACY,OAAO,GAAGD,QAAQ,CAAC,CAACE,KAAK,CAACJ,KAAK,IAAI;QACjE,IAAIrB,WAAW,CAACU,QAAQ,EAAE,UAAU,EAAE,UAAU,CAAC,EAAE;UACjDA,QAAQ,CAAC,IAAI,EAAEW,KAAK,EAAEN,UAAU,CAAC;QAC3C;MACA,CAAO,CAAC;IACR;IAEI,OAAO,MAAM;MACX,IAAIW,oBAAoB;MAExB,CAACA,oBAAoB,GAAGd,WAAW,CAACY,OAAO,MAAM,IAAI,IAAIE,oBAAoB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,oBAAoB,CAACC,IAAI,EAAE;IACrI,CAAK;EACL,CAAG,EAAE,EAAE,CAAC;AACR,CAAC;ACzCM,MAAMC,MAAM,GAAG;EACpBC,SAAS,EAAE;IACTC,KAAK,EAAE,MAAM;IACbC,UAAU,EAAE,MAAM;IAClBC,QAAQ,EAAE,QAAQ;IAClBC,QAAQ,EAAE;EACd,CAAG;EACDxB,KAAK,EAAE;IACLyB,GAAG,EAAE,CAAC;IACNC,IAAI,EAAE,CAAC;IACPL,KAAK,EAAE,MAAM;IACbM,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE,OAAO;IAChBL,QAAQ,EAAE,QAAQ;IAClBC,QAAQ,EAAE,UAAU;IACpBK,SAAS,EAAEC;EACf;AACA,CAAC;ACdW,MAACC,QAAQ,GAAGA,CAAC;EACvBC,mBAAmB;EACnBC,cAAc;EACdC,UAAU;EACVnC,WAAW;EACXoC,UAAU;EACVtC,SAAS;EACTuC,SAAS;EACTnC,QAAQ;EACRC;AACF,CAAC,KAAK;EACJN,WAAW,CAAC;IACVG,WAAW;IACXF,SAAS;IACTI,QAAQ;IACRC;EACJ,CAAG,CAAC;EACF,oBAAoBmC,aAAmB,CAAC,SAAS,EAAE;IACjDD,SAAS,EAAEA,SAAS;IACpBE,KAAK,EAAEL;EACX,CAAG,eAAeI,aAAmB,CAAC,KAAK,EAAE;IACzCC,KAAK,EAAE;MAAE,GAAGnB,MAAM,CAACC,SAAS;MAC1B,GAAGY;IACT;EACA,CAAG,EAAE,CAAC,CAACG,UAAU,iBAAiBE,aAAmB,CAACF,UAAU,EAAE,IAAI,CAAC,eAAeE,aAAmB,CAAC,OAAO,EAAE;IAC/GE,KAAK,EAAE,IAAI;IACXC,EAAE,EAAEtC,OAAO;IACXoC,KAAK,EAAE;MAAE,GAAGnB,MAAM,CAACnB,KAAK;MACtB,GAAGkC,UAAU;MACbL,SAAS,EAAE,CAAC9B,WAAW,KAAK,IAAI,IAAIA,WAAW,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,WAAW,CAAC0C,UAAU,MAAM,MAAM,IAAI;IAClH;EACA,CAAG,CAAC,CAAC,CAAC;AACN,CAAC;AACDV,QAAQ,CAACW,WAAW,GAAG,UAAU;AACjCX,QAAQ,CAACY,YAAY,GAAG;EACtB5C,WAAW,EAAE;IACX0C,UAAU,EAAE;EAChB,CAAG;EACDvC,OAAO,EAAE,OAAO;EAChBL,SAAS,EAAE;AACb,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}