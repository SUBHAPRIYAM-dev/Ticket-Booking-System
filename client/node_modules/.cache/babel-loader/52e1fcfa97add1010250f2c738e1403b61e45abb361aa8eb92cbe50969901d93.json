{"ast":null,"code":"import axios from 'axios';\n\n// Base URL for API requests\nconst API_URL = 'http://localhost:5000'; // Adjust based on your backend URL\n\n// Function to handle admin login\n// Function to handle admin login\nexport const loginAdmin = async (email, password) => {\n  try {\n    const response = await axios.post(`${API_URL}/login`, {\n      email,\n      password\n    });\n    return response.data; // Return data from the backend\n  } catch (error) {\n    // Enhanced error handling\n    if (error.response) {\n      console.error('Login error:', error.response.data);\n      console.error('HTTP Status:', error.response.status);\n      console.error('Headers:', error.response.headers);\n    } else if (error.request) {\n      console.error('No response received:', error.request);\n    } else {\n      console.error('Error setting up request:', error.message);\n    }\n    throw error; // Rethrow error to be handled by frontend code\n  }\n};\n// Function to register a new student\nexport const registerStudent = async studentData => {\n  try {\n    const response = await axios.post(`${API_URL}/register-student`, studentData);\n    return response.data;\n  } catch (error) {\n    console.error('Error registering student:', error);\n    throw error;\n  }\n};\n\n// Function to get all students\nexport const getAllStudents = async () => {\n  try {\n    const response = await axios.get(`${API_URL}/get-all-students`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching students:', error);\n    throw error;\n  }\n};\n\n// Function to get a single student by ID\nexport const getStudentById = async studentId => {\n  try {\n    const response = await axios.get(`${API_URL}/get-student/${studentId}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching student by ID:', error);\n    throw error;\n  }\n};\n\n// Function to approve a student\nexport const approveStudent = async studentId => {\n  try {\n    const response = await axios.post(`${API_URL}/approve-student`, {\n      studentId\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error approving student:', error);\n    throw error;\n  }\n};\n\n// Function to reject a student\nexport const rejectStudent = async studentId => {\n  try {\n    const response = await axios.post(`${API_URL}/reject-student`, {\n      studentId\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error rejecting student:', error);\n    throw error;\n  }\n};\n\n// Function to generate a QR Code for a student\nexport const generateStudentQR = async studentId => {\n  try {\n    const response = await axios.post(`${API_URL}/generate-student-qr`, {\n      studentId\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error generating QR code for student:', error);\n    throw error;\n  }\n};\n\n// Function to verify QR Code\nexport const verifyQRCode = async qrCode => {\n  try {\n    const response = await axios.post(`${API_URL}/verify-qr-code`, {\n      rollNo: qrCode\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error verifying QR code:', error);\n    throw error;\n  }\n};\n\n// Function to fetch admin data (if needed)\nexport const getAdminData = async () => {\n  try {\n    const response = await axios.get(`${API_URL}/admin-data`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching admin data:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","API_URL","loginAdmin","email","password","response","post","data","error","console","status","headers","request","message","registerStudent","studentData","getAllStudents","get","getStudentById","studentId","approveStudent","rejectStudent","generateStudentQR","verifyQRCode","qrCode","rollNo","getAdminData"],"sources":["E:/Ticket booking/client/src/services/api.jsx"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Base URL for API requests\r\nconst API_URL = 'http://localhost:5000'; // Adjust based on your backend URL\r\n\r\n// Function to handle admin login\r\n// Function to handle admin login\r\nexport const loginAdmin = async (email, password) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/login`, {\r\n      email,\r\n      password,\r\n    });\r\n    return response.data; // Return data from the backend\r\n  } catch (error) {\r\n    // Enhanced error handling\r\n    if (error.response) {\r\n      console.error('Login error:', error.response.data);\r\n      console.error('HTTP Status:', error.response.status);\r\n      console.error('Headers:', error.response.headers);\r\n    } else if (error.request) {\r\n      console.error('No response received:', error.request);\r\n    } else {\r\n      console.error('Error setting up request:', error.message);\r\n    }\r\n    throw error; // Rethrow error to be handled by frontend code\r\n  }\r\n};\r\n// Function to register a new student\r\nexport const registerStudent = async (studentData) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/register-student`, studentData);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error registering student:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Function to get all students\r\nexport const getAllStudents = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/get-all-students`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error fetching students:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Function to get a single student by ID\r\nexport const getStudentById = async (studentId) => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/get-student/${studentId}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error fetching student by ID:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Function to approve a student\r\nexport const approveStudent = async (studentId) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/approve-student`, { studentId });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error approving student:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Function to reject a student\r\nexport const rejectStudent = async (studentId) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/reject-student`, { studentId });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error rejecting student:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Function to generate a QR Code for a student\r\nexport const generateStudentQR = async (studentId) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/generate-student-qr`, { studentId });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error generating QR code for student:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Function to verify QR Code\r\nexport const verifyQRCode = async (qrCode) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/verify-qr-code`, { rollNo: qrCode });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error verifying QR code:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Function to fetch admin data (if needed)\r\nexport const getAdminData = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/admin-data`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error fetching admin data:', error);\r\n    throw error;\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}